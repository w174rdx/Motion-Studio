{{> partials/header}}
<!-- Main dashboard -->
<div class="dashboard-container">
    <header class="dashboard-header">
        <h1>Edit Course</h1>
        <p>Update the course details below</p>
    </header>

    <!-- Displays error message if present -->
    {{#error}}
        <div class="alert alert-error">{{error}}</div>
    {{/error}}

    <!-- Section for editing course details -->
    <section class="dashboard-section">
        <h2>Course Details</h2>
        <!-- Form for updating course data -->
        <form action="/organiser/edit/{{course._id}}" method="POST" class="course-form">
            <label>Name: <input type="text" name="name" value="{{course.name}}" required></label>
            <label>Duration: <input type="text" name="duration" value="{{course.duration}}" required></label>

            <!-- Class entries -->
            <h3>Classes</h3>
            <div id="classes-container">
                {{#course.classes}}
                    <div class="class-entry">
                        <label>Date: <input type="date" name="classes[{{@index}}][date]" value="{{date}}" required></label>
                        <label>Time: <input type="time" name="classes[{{@index}}][time]" value="{{time}}" required></label>
                        <label>Description: <input type="text" name="classes[{{@index}}][description]" value="{{description}}" required></label>
                        <label>Location: <input type="text" name="classes[{{@index}}][location]" value="{{location}}" required></label>
                        <label>Price: <input type="text" name="classes[{{@index}}][price]" value="{{price}}" required></label>
                        <!-- Button to remove class entry -->
                        <button type="button" class="btn btn-danger remove-class">Remove Class</button>
                        <hr>
                    </div>
                {{/course.classes}}
            </div>
            <!-- Button to add new class entry -->
            <button type="button" id="add-class" class="btn btn-info">Add Another Class</button>
            <!-- Submit button to update course -->
            <button type="submit" class="btn btn-primary add-course">Update Course</button>
        </form>
    </section>
</div>
<script src="/js/script.js"></script>
{{> partials/footer}}